version: 1

startCommand:
  type: http
  command: ["python", "app/mcp_firewall.py"]
  port: 6366

tools:
  - name: process_text
    description: "Process text through the firewall rules engine"
    parameters:
      text:
        type: string
        description: "The text to process"

  - name: get_rules
    description: "Gets all firewall rules"
    parameters: {}

  - name: add_rule
    description: "Adds a new firewall rule"
    parameters:
      name:
        type: string
        description: "Name of the rule"
      pattern:
        type: string
        description: "Regex pattern to match"
      replacement:
        type: string
        description: "Text to replace matches with"
      description:
        type: string
        description: "Description of the rule"
      enabled:
        type: boolean
        description: "Whether the rule is enabled"

  - name: update_rule
    description: "Updates an existing firewall rule"
    parameters:
      rule_id:
        type: string
        description: "ID of the rule to update"
      name:
        type: string
        description: "New name for the rule"
      pattern:
        type: string
        description: "New regex pattern"
      replacement:
        type: string
        description: "New replacement text"
      description:
        type: string
        description: "New description"
      enabled:
        type: boolean
        description: "New enabled status"

  - name: delete_rule
    description: "Deletes a firewall rule"
    parameters:
      rule_id:
        type: string
        description: "ID of the rule to delete"

  - name: reset_rules
    description: "Resets rules to defaults"
    parameters: {}